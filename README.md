# Для прояснения воспоминаний

## Курс по K8s
### Контейнеры
1. выбираю среду запуска
2. пишу код программы
3. делаю файл программы исполняемым

![image](https://user-images.githubusercontent.com/84544412/233505557-d23a516d-3642-40fc-9795-2aa9c4966c43.png)

Если перенести эту программу на Centos/RHEL - значит скачать интерпретатор, поставить библиотеки и тд 

Контейнеры позволяют иметь все зависимости "под рукой" у программы и не важно, где она будет запускаться. 

Внутри каждого контейнера есть своя мини-операционная система.

Контейнер - использует ресурсы и ядро хостовой ОС.

Несколько контейнеров расположенных на одном сервере используют ресурсы вместе, рационально используя ресурсы, они отделены и не могут повлиять на работу друг друга

Образ - шаблон для быстрого запуска ВМ с уже предустановленными ОС и необходимыми приложенияния

 Создание контейнера:

1. Создадим директорию, где будем хранить приложение с предыдущей страницы и Dockerfile (инструкцию) для его сборки:

   ```
   mkdir lesson1
   cd lesson1
   cp ../1.py .
   vim Dockerfile
   ```

   - Dockerfile

     ```shell
     FROM python:3.6-alpine3.8                     # Скачиваем легковесный образ python-alpine
     COPY 1.py /app/                               # Копируем 1.py с компьютера в дирректорию /app образа
     WORKDIR /app                                  # Делаем /app рабочей дирректорией для след. команды
     ENTRYPOINT ["python3", "/app/1.py"]           # Говорим "Питон3, запусти приложение /app/1.py"
     ```

   - 1.py

     ```
     print("GLHF")
     ```

2. Собираем Docker-образ, запустив в терминале (зайдя в директорию с докерфайлом и приложением) команду 

   ```shell
   docker build . -t py_app:v0.1 #из докерфайла в текущей дирректории (точка) соберется образ с тэгом py_app:v0.1
   ```

   Посмотреть список образов: `docker images`

   Запуск контейнера: `docker run py_app:v0.1 `

   ![img](https://ucarecdn.com/7eadcc52-0826-4ccd-a8d6-d8497c948cea/)
